<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f172a" />
  <meta name="description" content="Coach-like workout tracker with fast logging, progress, groups, and feed." />
  <title>Momentum</title>
  <link rel="icon" type="image/png" href="logoTab.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar" aria-label="Primary">
      <div class="brand">
        <div class="brand-mark">
          <img class="brand-logo light-logo" src="momentumLogo.png" alt="Momentum logo" />
          <img class="brand-logo dark-logo" src="momentum-logo-transparent-dark.png" alt="Momentum logo" />
        </div>
        <div class="brand-text" aria-hidden="true">
          <div class="brand-title">Momentum</div>
          <div class="brand-sub">Daily training</div>
        </div>
      </div>

      <nav class="nav-list" role="tablist" aria-label="Primary tabs">
        <button class="nav-item active" id="tab-today-btn" data-tab="today" role="tab" aria-selected="true">
          <span class="nav-label">Today</span>
        </button>
        <button class="nav-item" id="tab-log-btn" data-tab="log" role="tab" aria-selected="false">
          <span class="nav-label">Log</span>
        </button>
        <button class="nav-item" id="tab-live-btn" data-tab="live" role="tab" aria-selected="false">
          <span class="nav-label">Live Session</span>
        </button>
        <button class="nav-item" id="tab-progress-btn" data-tab="progress" role="tab" aria-selected="false">
          <span class="nav-label">Progress</span>
        </button>
        <button class="nav-item" id="tab-groups-btn" data-tab="groups" role="tab" aria-selected="false">
          <span class="nav-label">Groups</span>
        </button>
        <button class="nav-item" id="tab-feed-btn" data-tab="feed" role="tab" aria-selected="false">
          <span class="nav-label">Feed</span>
        </button>
      </nav>

      <div class="sidebar-actions">
        <button class="btn ghost" id="accountBtn">Account</button>
        <div class="subtle" id="accountStatus">Not signed in</div>
        <div class="seg" role="tablist" aria-label="Theme" id="themeToggle">
          <button class="active" data-theme="auto" role="tab" aria-selected="true">Auto</button>
          <button data-theme="dark" role="tab" aria-selected="false">Dark</button>
          <button data-theme="light" role="tab" aria-selected="false">Light</button>
        </div>
        <div class="seg" role="tablist" aria-label="Units" id="unitToggle">
          <button class="active" data-unit="lb" role="tab" aria-selected="true">lb</button>
          <button data-unit="kg" role="tab" aria-selected="false">kg</button>
        </div>
      </div>
    </aside>

    <main class="main">
      <div class="mobile-brand" aria-hidden="true">
        <div class="brand-mark">
          <img class="brand-logo light-logo" src="momentumLogo.png" alt="Momentum logo" />
          <img class="brand-logo dark-logo" src="momentum-logo-transparent-dark.png" alt="Momentum logo" />
        </div>
      </div>
      <section class="tab-panel active" id="tab-today" role="tabpanel" aria-labelledby="tab-today-btn">
        <div class="panel hero-panel" style="--delay: 0s;">
          <div class="hero-left">
            <p class="eyebrow">Today</p>
            <h1 id="todayGreeting">Good morning</h1>
            <p class="subtle" id="todayDate"></p>
          </div>
          <div class="hero-right">
            <div class="streak-pill" id="streakPill">Streak: 0 days</div>
            <button class="btn primary" id="todayLogBtn">Log Workout</button>
          </div>
        </div>

        <div class="panel focus-panel" style="--delay: 0.05s;">
          <div class="panel-header">
            <h2>Today&#39;s Focus</h2>
            <button class="btn ghost" id="editFocusBtn">Edit</button>
          </div>
          <p class="focus-text" id="todayFocusText">No plan yet. Choose a focus or log anything.</p>
        </div>

        <div class="panel stats-panel" style="--delay: 0.1s;">
          <div class="panel-header">
            <h2>Quick Stats</h2>
          </div>
          <div class="stats-grid" id="todayStats">
            <div class="stat-card">
              <div class="stat-title">Workouts this week</div>
              <div class="stat-value" id="statWorkouts">0</div>
              <div class="stat-meta" id="statWorkoutsMeta">Goal: 0</div>
            </div>
            <div class="stat-card">
              <div class="stat-title">Weight trend</div>
              <div class="stat-value" id="statWeight">--</div>
              <div class="stat-meta" id="statWeightMeta">Last 7 days</div>
            </div>
            <div class="stat-card">
              <div class="stat-title">Last workout</div>
              <div class="stat-value" id="statLastWorkout">--</div>
              <div class="stat-meta" id="statLastWorkoutMeta">No recent workout</div>
            </div>
          </div>
        </div>

        <div class="panel group-panel" id="groupUpdatePanel" style="--delay: 0.15s;">
          <div class="panel-header">
            <h2>Group Update</h2>
          </div>
          <p class="subtle" id="groupUpdateText">Join a group to unlock friendly competition.</p>
        </div>
      </section>

      <section class="tab-panel" id="tab-log" role="tabpanel" aria-labelledby="tab-log-btn">
        <div class="panel" style="--delay: 0s;">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Log</p>
              <h2>Fast entry</h2>
            </div>
            <div class="seg" role="tablist" aria-label="Log mode" id="logMode">
              <button class="active" data-mode="workout" role="tab" aria-selected="true">Workout</button>
              <button data-mode="weight" role="tab" aria-selected="false">Weight</button>
            </div>
          </div>
          <p class="note auth-note" id="logAuthNotice" hidden></p>

          <div class="log-panel" id="workoutLogPanel">
            <div class="log-toolbar">
              <input class="inputText" id="workoutNameInput" placeholder="Workout name (optional)" />
              <input class="inputText" id="workoutDateInput" type="date" />
              <button class="btn ghost" id="repeatWorkoutBtn">Repeat Last Workout</button>
            </div>

            <div class="exercise-list" id="exerciseList"></div>

            <div class="library">
              <div class="panel-header">
                <h3>Find exercises</h3>
              </div>
              <input class="inputText" id="exerciseSearchInput" placeholder="Search exercises" />
              <div class="body-chip-row" id="exerciseBodyChips"></div>
              <div class="inline">
                <select class="inputText exercise-picker" id="exercisePicker"></select>
                <button class="btn ghost" id="addExerciseFromPicker">Add</button>
              </div>
              <p class="note" id="exercisePickerNote"></p>
            </div>

            <div class="inline add-exercise">
              <input class="inputText" id="newExerciseInput" placeholder="Add exercise" />
              <select class="inputText" id="newExerciseBody">
                <option value="">Add muscle category</option>
              </select>
              <button class="btn" id="addExerciseBtn">Add Exercise</button>
            </div>

            <div class="sticky-bar">
              <button class="btn primary" id="saveWorkoutBtn">Save Workout</button>
            </div>
          </div>

          <div class="log-panel" id="weightLogPanel" hidden>
            <div class="field">
              <label for="weightInput">Today&#39;s Weight</label>
              <div class="inline">
                <input class="inputText" id="weightInput" inputmode="decimal" placeholder="0.0" />
                <span class="unit-label" id="weightUnitLabel">lb</span>
              </div>
            </div>
            <div class="field">
              <label for="weightNote">Note (optional)</label>
              <textarea class="textarea" id="weightNote" placeholder="How did it feel today?"></textarea>
            </div>
            <label class="check-row">
              <input type="checkbox" id="morningToggle" />
              <span>Morning weigh in</span>
            </label>
            <div class="sticky-bar">
              <button class="btn primary" id="saveWeightBtn">Save Weight</button>
            </div>
          </div>
        </div>

        <div class="panel" style="--delay: 0.08s;">
          <div class="panel-header">
            <h2>Workout History</h2>
          </div>
          <div class="history-list" id="workoutHistoryList"></div>
        </div>
      </section>

      <section class="tab-panel" id="tab-live" role="tabpanel" aria-labelledby="tab-live-btn">
        <div class="panel" style="--delay: 0s;">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Live</p>
              <h2>Live Session</h2>
            </div>
            <button class="btn primary" id="liveStartBtn">Start Live</button>
          </div>
          <p class="subtle" id="liveStatusText">Log as you lift with smart muscle pairings.</p>

          <div class="live-setup" id="liveSetup" hidden>
            <div class="seg" role="tablist" aria-label="Live split" id="liveSplitToggle">
              <button data-split="push" role="tab" aria-selected="false">Push</button>
              <button data-split="pull" role="tab" aria-selected="false">Pull</button>
              <button data-split="legs" role="tab" aria-selected="false">Legs</button>
              <button data-split="upper" role="tab" aria-selected="false">Upper</button>
              <button data-split="lower" role="tab" aria-selected="false">Lower</button>
              <button data-split="full" role="tab" aria-selected="false">Full</button>
              <button data-split="custom" role="tab" aria-selected="false">Custom</button>
            </div>

            <div class="live-block">
              <p class="eyebrow">Muscles</p>
              <div class="body-chip-row" id="liveMuscleChips"></div>
              <select class="inputText" id="liveMuscleSelect" hidden></select>
              <p class="note" id="livePairingNote"></p>
            </div>

            <div class="live-block">
              <div class="panel-header">
                <h3>Exercises</h3>
              </div>
              <div class="inline">
                <select class="inputText exercise-picker" id="liveExercisePicker"></select>
                <button class="btn ghost" id="liveAddExerciseBtn">Add</button>
              </div>
              <p class="note" id="liveExerciseNote"></p>
            </div>

            <div class="exercise-list" id="liveExerciseList"></div>

            <div class="sticky-bar">
              <button class="btn primary" id="liveSaveBtn">Save Session</button>
            </div>
          </div>
        </div>
      </section>

      <section class="tab-panel" id="tab-progress" role="tabpanel" aria-labelledby="tab-progress-btn">
        <div class="panel progress-panel" style="--delay: 0s;">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Progress</p>
              <h2>Performance report</h2>
              <p class="subtle">Actionable feedback from your logs.</p>
            </div>
            <div class="seg" role="tablist" aria-label="Insight intensity" id="insightIntensityToggle">
              <button class="active" data-intensity="strict" role="tab" aria-selected="true">Strict</button>
              <button data-intensity="aggressive" role="tab" aria-selected="false">Aggressive</button>
            </div>
          </div>
          <div class="progress-summary" id="progressSummary"></div>

          <div class="progress-grid">
            <div class="progress-block">
              <div class="panel-header">
                <h3>Trends</h3>
                <div class="seg" role="tablist" aria-label="Metric" id="progressMetric">
                  <button class="active" data-metric="weight" role="tab" aria-selected="true">Weight</button>
                  <button data-metric="workouts" role="tab" aria-selected="false">Workouts</button>
                  <button data-metric="strength" role="tab" aria-selected="false">Strength</button>
                  <button data-metric="volume" role="tab" aria-selected="false">Volume</button>
                </div>
              </div>
              <div class="inline">
                <label class="subtle" for="progressBodySelect">Body part</label>
                <select class="inputText" id="progressBodySelect"></select>
              </div>
              <div class="chart-card">
                <canvas id="progressChart"></canvas>
              </div>
              <p class="insight" id="progressInsight">No data yet.</p>
              <button class="btn ghost" id="progressDetailBtn">View Details</button>
              <div class="detail" id="progressDetail" hidden></div>
            </div>

            <div class="progress-block">
              <div class="panel-header">
                <h3>Body part focus</h3>
              </div>
              <div class="progress-body-list" id="progressBodyList"></div>
            </div>
          </div>

          <div class="progress-insights">
            <div class="panel-header">
              <h3>Insights</h3>
            </div>
            <div class="insight-list" id="progressInsightList"></div>
          </div>
        </div>
      </section>

      <section class="tab-panel" id="tab-groups" role="tabpanel" aria-labelledby="tab-groups-btn">
        <div class="panel" style="--delay: 0s;">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Groups</p>
              <h2>Private competition</h2>
            </div>
            <button class="btn primary" id="createGroupBtn">Create Group</button>
          </div>
          <div class="group-list" id="groupList"></div>
        </div>

        <div class="panel" id="groupDetailPanel" style="--delay: 0.05s;">
          <div class="panel-header">
            <div>
              <h3 id="groupTitle">Select a group</h3>
              <p class="subtle" id="groupChallenge"></p>
            </div>
            <button class="btn ghost" id="leaveGroupBtn" hidden>Leave Group</button>
          </div>

          <div class="seg" role="tablist" aria-label="Group metric" id="groupMetricToggle">
            <button class="active" data-metric="consistency" role="tab" aria-selected="true">Consistency</button>
            <button data-metric="streak" role="tab" aria-selected="false">Streak</button>
            <button data-metric="improved" role="tab" aria-selected="false">Most Improved</button>
            <button data-metric="volume" role="tab" aria-selected="false">Volume</button>
            <button data-metric="goal" role="tab" aria-selected="false">Goal %</button>
          </div>
          <div class="seg" role="tablist" aria-label="Group range" id="groupRangeToggle">
            <button class="active" data-range="7" role="tab" aria-selected="true">7D</button>
            <button data-range="30" role="tab" aria-selected="false">30D</button>
          </div>
          <div class="seg" role="tablist" aria-label="Group filter" id="groupFilterToggle">
            <button class="active" data-filter="all" role="tab" aria-selected="true">All</button>
            <button data-filter="light" role="tab" aria-selected="false">Light</button>
            <button data-filter="middle" role="tab" aria-selected="false">Middle</button>
            <button data-filter="heavy" role="tab" aria-selected="false">Heavy</button>
          </div>

          <p class="note" id="groupRankNote">Select a group to see standings.</p>
          <div class="leaderboard" id="groupLeaderboard"></div>

          <div class="divider"></div>

          <div class="panel-header">
            <h3>Group Feed</h3>
          </div>
          <div class="feed-list" id="groupFeed"></div>
          <div class="inline">
            <input class="inputText" id="groupMessageInput" placeholder="Send a group message" />
            <button class="btn" id="groupMessageBtn">Post</button>
          </div>

          <div class="divider"></div>

          <div class="panel-header">
            <h3>Add Member</h3>
          </div>
          <div class="inline">
            <input class="inputText" id="memberSearchInput" name="group-username-search" placeholder="Enter Username" autocomplete="off" autocapitalize="none" spellcheck="false" />
            <button class="btn" id="memberSearchBtn">Search</button>
          </div>
          <div class="library-list member-suggestions" id="memberSearchResults"></div>
        </div>
      </section>

      <section class="tab-panel" id="tab-feed" role="tabpanel" aria-labelledby="tab-feed-btn">
        <div class="panel" style="--delay: 0s;">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Feed</p>
              <h2>Celebrate progress</h2>
            </div>
          </div>
          <div class="feed-list" id="feedList"></div>
        </div>
      </section>
    </main>

    <aside class="rail" aria-label="Quick actions">
      <div class="panel rail-card" style="--delay: 0s;">
        <div class="panel-header">
          <h3>Quick Add</h3>
        </div>
        <button class="btn ghost" id="quickLogBtn">Log Workout</button>
        <button class="btn ghost" id="quickWeightBtn">Log Weight</button>
      </div>

      <div class="panel rail-card" style="--delay: 0.05s;">
        <div class="panel-header">
          <h3>Current Streak</h3>
        </div>
        <div class="rail-stat" id="railStreak">0 days</div>
      </div>

      <div class="panel rail-card" style="--delay: 0.1s;">
        <div class="panel-header">
          <h3>Next Workout</h3>
        </div>
        <div class="rail-sub" id="railNextWorkout">No workouts logged yet.</div>
      </div>

      <div class="panel rail-card" style="--delay: 0.15s;">
        <div class="panel-header">
          <h3>Group Standing</h3>
        </div>
        <div class="rail-sub" id="railGroupStanding">No group selected.</div>
      </div>
    </aside>
  </div>

  <nav class="bottom-nav" aria-label="Primary tabs">
    <button class="nav-item active" data-tab="today" aria-selected="true">Today</button>
    <button class="nav-item" data-tab="log" aria-selected="false">Log</button>
    <button class="nav-item" data-tab="live" aria-selected="false">Live Session</button>
    <button class="nav-item" data-tab="progress" aria-selected="false">Progress</button>
    <button class="nav-item" data-tab="groups" aria-selected="false">Groups</button>
    <button class="nav-item" data-tab="feed" aria-selected="false">Feed</button>
  </nav>

  <div class="modal-backdrop" id="onboarding" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="onboardingTitle">
      <div class="modal-header">
        <div>
          <h2 id="onboardingTitle">Welcome to Momentum</h2>
          <p class="subtle">Answer a few questions to personalize your plan.</p>
        </div>
      </div>

      <div class="onboarding-step" data-step="0">
        <h3>What is your goal?</h3>
        <div class="option-grid" id="goalOptions">
          <button class="option-btn" data-value="build">Build muscle</button>
          <button class="option-btn" data-value="lose">Lose weight</button>
          <button class="option-btn" data-value="stay">Stay active</button>
        </div>
      </div>

      <div class="onboarding-step" data-step="1" hidden>
        <h3>How often do you want to work out?</h3>
        <div class="option-grid" id="frequencyOptions">
          <button class="option-btn" data-value="2-3">2-3 days</button>
          <button class="option-btn" data-value="4-5">4-5 days</button>
          <button class="option-btn" data-value="6+">6+ days</button>
        </div>
      </div>

      <div class="onboarding-step" data-step="2" hidden>
        <h3>Start logging</h3>
        <div class="field">
          <label for="displayNameInput">Name (optional)</label>
          <input class="inputText" id="displayNameInput" placeholder="How should we greet you?" />
        </div>
        <p class="note">You can start logging now and update details later.</p>
      </div>

      <div class="modal-actions">
        <button class="btn ghost" id="onboardingBackBtn" disabled>Back</button>
        <button class="btn primary" id="onboardingNextBtn">Next</button>
        <button class="btn ghost" id="onboardingSkipBtn">Skip for now</button>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="groupModal" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="groupModalTitle">
      <div class="modal-header">
        <div>
          <h2 id="groupModalTitle">Create Group</h2>
          <p class="subtle">Private by default. Invite friends later.</p>
        </div>
        <button class="btn ghost" id="groupModalClose">Close</button>
      </div>
      <div class="modal-body">
        <div class="field">
          <label for="groupNameInput">Group name</label>
          <input class="inputText" id="groupNameInput" placeholder="Morning Crew" />
        </div>
        <div class="field">
          <label for="groupIconInput">Group icon (2 letters)</label>
          <input class="inputText" id="groupIconInput" placeholder="MC" maxlength="2" />
        </div>
        <label class="check-row">
          <input type="checkbox" id="groupPrivateToggle" checked />
          <span>Invite only (private)</span>
        </label>
        <div class="field">
          <label for="groupChallengeType">Active challenge</label>
          <select class="inputText" id="groupChallengeType">
            <option value="workouts">Workouts per week</option>
            <option value="streak">Streak days</option>
            <option value="volume">Volume goal</option>
          </select>
        </div>
        <div class="field">
          <label for="groupChallengeGoal">Weekly goal</label>
          <input class="inputText" id="groupChallengeGoal" inputmode="numeric" placeholder="4" />
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn primary" id="groupCreateSubmit">Create Group</button>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="authModal" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
      <div class="modal-header">
        <div>
          <h2 id="authTitle">Momentum Account</h2>
          <p class="subtle" id="authSubtitle">Sign in to sync your data.</p>
        </div>
        <button class="btn ghost" id="authCloseBtn">Close</button>
      </div>
      <div class="seg" role="tablist" aria-label="Auth mode" id="authMode">
        <button class="active" data-mode="signin" role="tab" aria-selected="true">Sign in</button>
        <button data-mode="signup" role="tab" aria-selected="false">Sign up</button>
      </div>
      <div class="auth-form">
        <label for="authEmail">Email</label>
        <input class="inputText" id="authEmail" inputmode="email" placeholder="you@example.com" />
        <label for="authPassword">Password</label>
        <input class="inputText" id="authPassword" type="password" placeholder="At least 8 characters" />
        <div id="signupExtra" hidden>
          <label for="authUsername">Username</label>
          <input class="inputText" id="authUsername" placeholder="username" />
          <label for="authAge">Age</label>
          <input class="inputText" id="authAge" inputmode="numeric" placeholder="18" />
          <label for="authGender">Gender</label>
          <select class="inputText" id="authGender">
            <option value="">Select</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
          <label for="authHeight">Height</label>
          <div class="inline">
            <input class="inputText" id="authHeight" inputmode="numeric" placeholder="0" />
            <span class="unit-label" id="authHeightUnit">in</span>
          </div>
          <label for="authStartingWeight">Starting weight</label>
          <div class="inline">
            <input class="inputText" id="authStartingWeight" inputmode="decimal" placeholder="0.0" />
            <span class="unit-label" id="authWeightUnit">lb</span>
          </div>
        </div>
        <div class="modal-actions">
          <button class="btn primary" id="authSubmitBtn">Continue</button>
          <button class="btn ghost" id="logoutBtn" hidden>Log out</button>
        </div>
        <p class="note" id="authMessage"></p>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    window.FITTRACK_CONFIG = {
      SUPABASE_URL: "https://durxxoerrpxbdmpqrveu.supabase.co",
      SUPABASE_ANON_KEY: "sb_publishable_NknmFccc_mCuaZZPalP7Ag_fU7ekRcR"
    };
  </script>
  <script type="module" src="app.js"></script>
</body>
</html>
